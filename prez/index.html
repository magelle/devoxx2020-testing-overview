<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Tour d'horizon des tests dans nos applications</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Tour d'horizon des Tests</h1>
					<h5>dans nos applicaiton</h5>
				</section>
				
				<section>
					<section>
						<h3>Tests</h3>
						<ul>
							<li class="fragment fade-in">Unitaires</li>
							<li class="fragment fade-in">Fonctionnels</li>
							<li class="fragment fade-in">d'architecture</li>
							<li class="fragment fade-in">Mutation testing</li>
							<li class="fragment fade-in">End to End</li>
							<li class="fragment fade-in">Contract testing (API)</li>
							<li class="fragment fade-in">Pour aller plus loin : PBT</li>
						</ul>
					</section>
				</section>
				
				<section>
					<section>
						<h2>Existant</h2>
					</section>
					<section>
						<h3>Architecture</h3>
					</section>
					<section>
						<h2>Anti pattern</h2>
					</section>
					<section>
						<img src="images/test-pyramid.png" alt="test cone anti pattern and pyramid pattern" />
					</section>
				</section>

				<section>
					<section>
						<h2>Tests unitaires</h2>
					</section>
					<section>
						<h3>Test d'une unité</h3>
						<ul>
							<li>Given // Etat initial</li>
							<li>When  // Action</li>
							<li>Then  // Vérification</li>
						</ul>
					</section>
					<section>
						<h3>Tests unitaires</h3>
						<pre><code>public void add_should_sum_several_numbers() {
	// Given / Arrange
	Calculator calculator = new Calculator();

	// When / Act
	calculator.add(2);
	calculator.add(4);

	// Then / Assert
	assertThat(calculator.result()).isEqualTo(6);
}</code></pre>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Check List</h3>
						<ul>
							<li><b>F</b><span class="fragment fade-in">ast</span></li>
							<li><b>I</b><span class="fragment fade-in">solated</span></li>
							<li><b>R</b><span class="fragment fade-in">epeatable</span></li>
							<li><b>S</b><span class="fragment fade-in">elf-checking</span></li>
							<li><b>T</b><span class="fragment fade-in">imely</span></li>
						</ul>
					</section>
					<section>
						<h2>TU vs TDD</h2>
					</section>
					<section>
						<h3>Test Unitaire = un test</h3>
						<h3>Test Driven Developement = une méthode</h3>
					</section>
					<section>
						<h3>Test Driven Developement</h3>
						<img src="images/red-green-refactor.png" alt="Red green refactor schema" />
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Mock vs Fake</h3>
					</section>
					<section>
						<h4>Mock</h4>
						<pre><code>

</code></pre>
					</section>
					<section>
						<h4>Fake</h4>
						<pre><code>// Test example with fake</code></pre>
					</section>
					<section>
						<h3>Factories</h3>
						<a href="https://martinfowler.com/bliki/ObjectMother.html">Object Mother</a>
					</section>
					<section>
						<pre><code>// Test example with manual object creation</code></pre>
					</section>
					<section>
						<pre><code>// Test example with factory</code></pre>
					</section>
					<section>
						<h3>Chicago vs London</h3>
					</section>
					<section>
						<h2>Outils</h2>
						<ul>
							<li>Junit</li>
							<li>Mockito</li>
							<li>AssertJ</li>
							<li>...</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Tests fonctionnels</h2>
					</section>
					<section>
						<h4>Behavior driven developement</h4>
					</section>
					<section>
						<h2>Tests Fonctionnels vs BDD</h2>
					</section>
					<section>
						<h3>Quoi tester ?</h3>
					</section>
					<section>
						<h3>Mon application</h3>
						<img src="images/layers.png" alt="three layer architecture" height="400px"/>
					</section>
					<section>
						<h3>Architecture Hexagonale</h3>
					</section>
					<section>
						<h3>Dépendances</h3>
						<img src="images/layers.png" alt="three layer architecture" height="400px"/>
					</section>
					<section>
						<h3>Dépendances</h3>
						<img src="images/hexagonal_as_layers.png" alt="three layer architecture" height="400px" />
					</section>
					<section>
						<h3>Hexagonale</h3>
						<img src="images/apis-business-spis.png" alt="Hexagonal architecture" height="400px"/>
					</section>
					<section>
						<h3>Hexagones</h3>
						<img src="images/plusieurs_hexagones.png" alt="Hexagonal architecture" height="400px"/>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Petites étapes</h3>
						<pre><code>Given</code></pre>
					</section>
					<section>
						<h3>Pas de technique</h3>
						<pre><code></code></pre>
					</section>
					<section>
						<h3>Background</h3>
						<pre><code>Given</code></pre>
					</section>
					<section>
						<h3>Steps déclaratives</h3>
					</section>
					<section>
						<h3>Eviter double emploi avec les TUs</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Un fake pour la persistence</h3>
					</section>
					<section>
						<h3>Sinon</h3>
						<a src="https://www.testcontainers.org/">Testcontainers</a>
					</section>
					<section>
						<h3>Outils</h3>
						<ul>
							<li>Cucumber</li>
							<li>JGiven</li>
							<li>JUnit</li>
						</ul>
					</section>
				</section> 

				<section>
					<section>
						<h2>Code coverage : 100%</h2>
						<pre><code>assertThat(true).isTrue(); // Make tests pass</code></pre>
					</section>
					<section>
						<h2>Mutation Testing</h2>
						<h3>Tester nos tests</h3>
					</section>
					<section>
						<h3>Késako</h3>
						<ul>
							<li>Mutation</li>
							<li>Test</li>
							<li>??</li>
						</ul>
					</section>
					<section>
						<h3>Mutations</h3>
						<ul>
							<li class="fragment fade-in">Retourner une constante</li>
							<li class="fragment fade-in">Inverser un booléen</li>
							<li class="fragment fade-in">Remplacer un opérateur</li>
							<li class="fragment fade-in">Supprimer ou dupliquer une ligne</li>
						</ul>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Tests doivent être rapide</h3>
					</section>
					<section>
						<h3>Surtout le métier</h3>
					</section>
					<section>
						<h3>Exécuter sur CI</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Outils</h3>
						<a href="https://pitest.org/">https://pitest.org/</a>
					</section>
				</section>

				<section>
					<section>
						<h3>Tests d'architecture</h3>
					</section>
					<section>
						<pre><code>// ArchUnit Example</code></pre>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Les grandes règles uniquement</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Ignorer l'API java</h3>
					</section>
					<section>
						<h3>Outils</h3>
						<a href="https://www.archunit.org">archunit.org</a>
					</section>
				</section>

				<section>
					<section>
						<h3>Property base testing</h3>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Ne remplace pas les autres tests</h3>
					</section>
					<section>
						<h3>Pour le code métier</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Trouver les propriétées</h3>
					</section>
					<section>
						<h3>Aller - retour</h3>
						<h4>ex: sérialisation</h4>
					</section>
					<section>
						<h3>Invariants</h3>
						<h4>ex: le montant du panier est positif</h4>
					</section>
					<section>
						<h3>Chemins différents</h3>
						<h4>ex: parallélisme</h4>
					</section>
					<section>
						<a href="https://fsharpforfunandprofit.com/posts/property-based-testing-2">https://fsharpforfunandprofit.com/posts/property-based-testing-2</a>
					</section>
					<section>
						<h3>Outils</h3>
						<ul>
							<li><a href="https://jqwik.net/" >jqwik</a></li>
							<li><a href="https://pholser.github.io/junit-quickcheck/site/0.9.1/">junit-quickcheck</a></li>
							<li>...</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h3>Contract testing</h3>
						<a href="https://magelle.github.io/prez/contract-testing-prez/index.html" >Prez</a>
					</section>
					<section>
						<img src="images/interactions-to-test.png" alt="A lot of interactions to tests" />
					</section>
					<section>
						<img src="images/contract-testing-principle.png" alt="Contract testing" />
					</section>
					<section>
						<img src="images/interaction.png" alt="An interaction" />
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<section>
						<h3>Consumer driven vs Provider driven</h3>
					</section>
					<section>
						<h3>Test de l'API uniquement</h3>
						<ul>
							<li><strike>Tests fonctionnels</strike></li>
							<li><strike>Tests de charge</strike></li>
							<li>...</li>
						</ul>
					</section>
					<section>
						<h3>Ne pas oublier les erreurs</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>Outils</h3>
						<ul>
							<li><a href="https://spring.io/projects/spring-cloud-contract">Spring Cloud Contract</a></li>
							<li><a href="https://docs.pact.io/">Pact</a></li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h3>End to End testing</h3>
					</section>
					<section>
						<h2>Best practices</h2>
					</section>
					<!-- https://www.ranorex.com/blog/10-best-practices-test-automation-9-plan-e2e-testing/ -->
					<section>
						<h3>Focus usage (non technique)</h3>
					</section>
					<section>
						<h3>Focus happy path</h3>
					</section>
					<section>
						<h3>Grands risques en premiers</h3>
					</section>
					<section>
						<h3>Séparer logique et elements UI</h3>
					</section>
					<section>
						<h3>Gérer les temps de chargement</h3>
					</section>
					<section>
						<h3>Choisir le bon device</h3>
					</section>
					<section>
						<h3>Ne pas oublier de nettoyer</h3>
					</section>
					<section>
						<h2>Trucs et astuces</h2>
					</section>
					<section>
						<h3>PageObject</h3>
					</section>
					<section>
						<h3>???</h3>
					</section>
					<section>
						<h3></h3>
					</section>
					<section>
						<h3>Outils</h3>
						<ul>
							<li><a href="https://www.selenium.dev/documentation/fr/">Selenium</a></li>
							<li><a href="https://codecept.io/">Codecept</a></li>
							<li><a href="https://intuit.github.io/karate/">Karate</a></li>
							<li>...</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h3>Vers l'infini et au delà</h3>
					</section>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				hash: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/highlight/highlight.js' },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
